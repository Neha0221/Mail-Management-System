{"level":"error","message":"Error processing email analytics: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at EmailAnalyticsService.processEmail (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\src\\services\\emailAnalyticsService.js:80:24)\n    at testIntegration (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\test-integration.js:66:35)","timestamp":"2025-09-10T07:45:04.975Z"}
{"level":"info","message":"Starting sync job: test_job_001","timestamp":"2025-09-10T08:56:46.104Z"}
{"level":"error","message":"IMAP connection error for test_job_001_source: Invalid credentials (Failure)","source":"authentication","stack":"Error: Invalid credentials (Failure)\n    at Connection._resTagged (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\imap\\lib\\Connection.js:1502:11)\n    at Parser.<anonymous> (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\imap\\lib\\Connection.js:194:10)\n    at Parser.emit (node:events:507:28)\n    at Parser._resTagged (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\imap\\lib\\Parser.js:175:10)\n    at Parser._parse (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\imap\\lib\\Parser.js:139:16)\n    at Parser._tryread (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\imap\\lib\\Parser.js:82:15)\n    at Parser._cbReadable (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\imap\\lib\\Parser.js:53:12)\n    at TLSSocket.emit (node:events:507:28)\n    at emitReadable_ (node:internal/streams/readable:832:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","textCode":"AUTHENTICATIONFAILED","timestamp":"2025-09-10T08:56:47.624Z","type":"no"}
{"level":"error","message":"Error processing email analytics: Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at EmailAnalyticsService.processEmail (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\src\\services\\emailAnalyticsService.js:80:24)\n    at testIntegration (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\test-integration.js:66:35)","timestamp":"2025-09-10T08:59:42.743Z"}
{"level":"error","message":"Registration error: Cannot read properties of undefined (reading 'generateToken')","stack":"TypeError: Cannot read properties of undefined (reading 'generateToken')\n    at register (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\src\\controllers\\authController.js:55:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-10T09:31:14.791Z"}
{"level":"info","message":"New user registered: nehu@example.com","timestamp":"2025-09-10T09:40:35.245Z"}
{"level":"info","message":"User logged in: nehu@example.com","timestamp":"2025-09-10T09:44:52.517Z"}
{"_message":"EmailAccount validation failed","errors":{"authConfig.password":{"kind":"required","message":"Path `authConfig.password` is required.","name":"ValidatorError","path":"authConfig.password","properties":{"message":"Path `authConfig.password` is required.","path":"authConfig.password","type":"required"}},"authConfig.username":{"kind":"required","message":"Username is required","name":"ValidatorError","path":"authConfig.username","properties":{"message":"Username is required","path":"authConfig.username","type":"required"}},"imapConfig.host":{"kind":"required","message":"IMAP host is required","name":"ValidatorError","path":"imapConfig.host","properties":{"message":"IMAP host is required","path":"imapConfig.host","type":"required"}},"imapConfig.port":{"kind":"required","message":"IMAP port is required","name":"ValidatorError","path":"imapConfig.port","properties":{"message":"IMAP port is required","path":"imapConfig.port","type":"required"}}},"level":"error","message":"Add email account error: EmailAccount validation failed: authConfig.password: Path `authConfig.password` is required., authConfig.username: Username is required, imapConfig.port: IMAP port is required, imapConfig.host: IMAP host is required","stack":"ValidationError: EmailAccount validation failed: authConfig.password: Path `authConfig.password` is required., authConfig.username: Username is required, imapConfig.port: IMAP port is required, imapConfig.host: IMAP host is required\n    at Document.invalidate (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1416:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10T09:56:59.186Z"}
{"level":"info","message":"New email account added: nsingh13067@gmail.com by user: nehu@example.com","timestamp":"2025-09-10T10:31:12.482Z"}
{"level":"info","message":"User logged in: nehu@example.com","timestamp":"2025-09-10T10:36:00.273Z"}
{"level":"error","message":"Email search failed: User ID and query are required","stack":"Error: User ID and query are required\n    at SearchService.searchEmails (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\src\\services\\searchService.js:39:15)\n    at searchEmails (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\src\\controllers\\searchController.js:50:49)\n    at Layer.handleRequest (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at middleware (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-10T10:40:36.263Z"}
{"level":"error","message":"Search emails error: User ID and query are required","stack":"Error: User ID and query are required\n    at SearchService.searchEmails (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\src\\services\\searchService.js:39:15)\n    at searchEmails (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\src\\controllers\\searchController.js:50:49)\n    at Layer.handleRequest (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at middleware (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-10T10:40:36.266Z"}
{"level":"info","message":"Email search completed for user 68c1479151bfd4096f8a9e24: 0 results in 361ms","timestamp":"2025-09-10T10:43:52.146Z"}
{"level":"error","message":"Get analytics overview error: emailAnalyticsService.getAnalyticsOverview is not a function","stack":"TypeError: emailAnalyticsService.getAnalyticsOverview is not a function\n    at getAnalyticsOverview (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\src\\controllers\\analyticsController.js:38:52)\n    at Layer.handleRequest (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at middleware (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-10T10:48:57.137Z"}
{"level":"error","message":"Get analytics overview error: Cannot read properties of undefined (reading 'getBasicAnalyticsOverview')","stack":"TypeError: Cannot read properties of undefined (reading 'getBasicAnalyticsOverview')\n    at getAnalyticsOverview (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\src\\controllers\\analyticsController.js:38:35)\n    at Layer.handleRequest (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at middleware (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-10T10:51:58.375Z"}
{"level":"error","message":"Get analytics overview error: Cannot read properties of undefined (reading 'getBasicAnalyticsOverview')","stack":"TypeError: Cannot read properties of undefined (reading 'getBasicAnalyticsOverview')\n    at getAnalyticsOverview (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\src\\controllers\\analyticsController.js:38:35)\n    at Layer.handleRequest (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at middleware (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-10T10:53:01.217Z"}
{"kind":"ObjectId","level":"error","message":"Get sync job by ID error: Cast to ObjectId failed for value \"start\" (type string) at path \"_id\" for model \"SyncJob\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"start\" (type string) at path \"_id\" for model \"SyncJob\"\n    at SchemaObjectId.cast (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1694:17)\n    at cast (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\mongoose\\lib\\query.js:5060:12)\n    at Query._castConditions (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\mongoose\\lib\\query.js:2374:10)\n    at model.Query._findOne (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\mongoose\\lib\\query.js:2697:8)\n    at model.Query.exec (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\node_modules\\mongoose\\lib\\query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getSyncJobById (C:\\Users\\Dell\\Desktop\\MailManagementApp\\backend\\src\\controllers\\syncController.js:88:19)","stringValue":"\"start\"","timestamp":"2025-09-10T11:09:32.445Z","value":"start","valueType":"string"}
